{
  "$defs": {
    "AudienceBriefs": {
      "additionalProperties": false,
      "properties": {
        "engineering_leadership": {
          "anyOf": [
            {
              "$ref": "#/$defs/EngineeringLeadershipBrief"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "product_owner": {
          "anyOf": [
            {
              "$ref": "#/$defs/ProductOwnerBrief"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "title": "AudienceBriefs",
      "type": "object"
    },
    "Concept": {
      "properties": {
        "name": {
          "title": "Name",
          "type": "string"
        },
        "description": {
          "title": "Description",
          "type": "string"
        }
      },
      "required": [
        "name",
        "description"
      ],
      "title": "Concept",
      "type": "object"
    },
    "EngineeringLeadershipBrief": {
      "additionalProperties": false,
      "description": "Engineering leadership brief \u2014 outcome-focused, no implementation detail.",
      "properties": {
        "headline": {
          "description": "One sentence, outcome-focused, no filler.",
          "title": "Headline",
          "type": "string"
        },
        "so_what": {
          "description": "Risk, cost, or strategic implication in 1-2 sentences.",
          "title": "So What",
          "type": "string"
        },
        "bullets": {
          "description": "3-5 hard-hitting points focused on impact, risk, or decision triggers.",
          "items": {
            "type": "string"
          },
          "minItems": 1,
          "title": "Bullets",
          "type": "array"
        },
        "action_required": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "A concrete decision or next step, or null.",
          "title": "Action Required"
        }
      },
      "required": [
        "headline",
        "so_what",
        "bullets"
      ],
      "title": "EngineeringLeadershipBrief",
      "type": "object"
    },
    "PONextSteps": {
      "additionalProperties": false,
      "properties": {
        "po_action": {
          "description": "What the PO/EM needs to decide or kick off \u2014 specific and actionable.",
          "title": "Po Action",
          "type": "string"
        },
        "work_to_assign": {
          "description": "Discrete work items the PO/EM will hand to engineers. Must be a list.",
          "items": {
            "type": "string"
          },
          "minItems": 1,
          "title": "Work To Assign",
          "type": "array"
        },
        "leadership_input": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "What architects or senior ICs need to weigh in on, or null.",
          "title": "Leadership Input"
        }
      },
      "required": [
        "po_action",
        "work_to_assign"
      ],
      "title": "PONextSteps",
      "type": "object"
    },
    "ProductOwnerBrief": {
      "additionalProperties": false,
      "description": "Product owner brief \u2014 plain English, zero jargon, actionable next steps.",
      "properties": {
        "headline": {
          "description": "Plain English, zero jargon. What is this issue in one sentence?",
          "title": "Headline",
          "type": "string"
        },
        "so_what": {
          "description": "What this means for users or the product in 1-2 sentences. No technical terms.",
          "title": "So What",
          "type": "string"
        },
        "bullets": {
          "description": "3-5 bullets a non-engineer can understand and act on.",
          "items": {
            "type": "string"
          },
          "minItems": 1,
          "title": "Bullets",
          "type": "array"
        },
        "risk_level": {
          "description": "One of: Low, Medium, High, Critical. Use the highest level warranted.",
          "title": "Risk Level",
          "type": "string"
        },
        "next_steps": {
          "$ref": "#/$defs/PONextSteps"
        },
        "questions_to_ask_engineering": {
          "description": "1-3 questions the PO can bring into an engineering conversation.",
          "items": {
            "type": "string"
          },
          "title": "Questions To Ask Engineering",
          "type": "array"
        }
      },
      "required": [
        "headline",
        "so_what",
        "bullets",
        "risk_level",
        "next_steps"
      ],
      "title": "ProductOwnerBrief",
      "type": "object"
    },
    "QuickReference": {
      "properties": {
        "title": {
          "default": "Quick Reference",
          "title": "Title",
          "type": "string"
        },
        "columns": {
          "items": {
            "type": "string"
          },
          "title": "Columns",
          "type": "array"
        },
        "rows": {
          "items": {
            "items": {
              "type": "string"
            },
            "type": "array"
          },
          "title": "Rows",
          "type": "array"
        },
        "notes": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Notes"
        }
      },
      "required": [
        "columns",
        "rows"
      ],
      "title": "QuickReference",
      "type": "object"
    },
    "Source": {
      "properties": {
        "title": {
          "title": "Title",
          "type": "string"
        },
        "url": {
          "title": "Url",
          "type": "string"
        },
        "tier": {
          "anyOf": [
            {
              "enum": [
                "official_doc",
                "user_guide",
                "blog",
                "community"
              ],
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Source authority tier. official_doc = API/SDK/service reference docs; user_guide = official user guides and tutorials; blog = vendor or third-party blog posts; community = Stack Overflow, GitHub issues, forums. Prefer official_doc > user_guide > blog > community. Findings backed only by blog or community sources should be hedged.",
          "title": "Tier"
        }
      },
      "required": [
        "title",
        "url"
      ],
      "title": "Source",
      "type": "object"
    }
  },
  "additionalProperties": true,
  "properties": {
    "topic": {
      "title": "Topic",
      "type": "string"
    },
    "date": {
      "title": "Date",
      "type": "string"
    },
    "status": {
      "enum": [
        "Complete",
        "In Progress",
        "Superseded"
      ],
      "title": "Status",
      "type": "string"
    },
    "question": {
      "title": "Question",
      "type": "string"
    },
    "context": {
      "title": "Context",
      "type": "string"
    },
    "quick_reference": {
      "anyOf": [
        {
          "$ref": "#/$defs/QuickReference"
        },
        {
          "type": "null"
        }
      ],
      "default": null
    },
    "key_findings": {
      "items": {
        "anyOf": [
          {
            "type": "string"
          },
          {
            "additionalProperties": true,
            "type": "object"
          }
        ]
      },
      "title": "Key Findings",
      "type": "array"
    },
    "concepts": {
      "items": {
        "$ref": "#/$defs/Concept"
      },
      "title": "Concepts",
      "type": "array"
    },
    "tensions": {
      "items": {
        "type": "string"
      },
      "title": "Tensions",
      "type": "array"
    },
    "open_questions": {
      "items": {
        "type": "string"
      },
      "title": "Open Questions",
      "type": "array"
    },
    "sources": {
      "items": {
        "$ref": "#/$defs/Source"
      },
      "title": "Sources",
      "type": "array"
    },
    "audience_briefs": {
      "anyOf": [
        {
          "$ref": "#/$defs/AudienceBriefs"
        },
        {
          "type": "null"
        }
      ],
      "default": null
    }
  },
  "required": [
    "topic",
    "date",
    "status",
    "question",
    "context"
  ],
  "title": "Investigation",
  "type": "object"
}